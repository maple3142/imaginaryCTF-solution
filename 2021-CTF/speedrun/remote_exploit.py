from pwn import remote
from base64 import b64decode
from exploit import exploit

io = remote("chal.imaginaryctf.org", 42020)
io.recvuntil(b"---------------------------BEGIN  DATA---------------------------")
footer = b"----------------------------END  DATA----------------------------"
data = io.recvuntil(footer)[: -len(footer)]
with open("binary", "wb") as f:
    f.write(b64decode(data))
print("done writing binary")
exploit(io, "binary")
